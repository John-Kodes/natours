{"version":3,"sources":["login.js","index.js"],"names":["login","email","password","fetch","method","headers","body","JSON","stringify","res","json","data","status","alert","window","setTimeout","location","assign","message","logout","reload","loginForm","document","querySelector","logOutBtn","addEventListener","e","preventDefault","getElementById","value"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACO,IAAMA,KAAK;AAAA,qEAAG,iBAAOC,KAAP,EAAcC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAECC,KAAK,CAAC,0CAAD,EAA6C;AAClEC,cAAAA,MAAM,EAAE,MAD0D;AAElEC,cAAAA,OAAO,EAAE;AACP,gCAAgB;AADT,eAFyD;AAKlEC,cAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEP,gBAAAA,KAAK,EAALA,KAAF;AAASC,gBAAAA,QAAQ,EAARA;AAAT,eAAf;AAL4D,aAA7C,CAFN;;AAAA;AAEXO,YAAAA,GAFW;AAAA;AAAA,mBAUEA,GAAG,CAACC,IAAJ,EAVF;;AAAA;AAUXC,YAAAA,IAVW;;AAAA,kBAYbA,IAAI,CAACC,MAAL,KAAgB,SAZH;AAAA;AAAA;AAAA;;AAafC,YAAAA,KAAK,CAAC,yBAAD,CAAL;AACAC,YAAAA,MAAM,CAACC,UAAP,CAAkB;AAAA,qBAAMC,QAAQ,CAACC,MAAT,CAAgB,GAAhB,CAAN;AAAA,aAAlB,EAA8C,IAA9C;AAde;AAAA;;AAAA;AAAA,kBAeJN,IAfI;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAiBjBE,YAAAA,KAAK,CAAC,YAAIK,OAAL,CAAL;;AAjBiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAALlB,KAAK;AAAA;AAAA;AAAA,GAAX;;;;AAqBA,IAAMmB,MAAM;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEAhB,KAAK,CAAC,2CAAD,CAFL;;AAAA;AAEZM,YAAAA,GAFY;AAGZE,YAAAA,IAHY,GAGLF,GAAG,CAACC,IAAJ,EAHK;AAKlB,gBAAIC,IAAI,CAACC,MAAL,KAAgB,SAApB,EAA+BI,QAAQ,CAACI,MAAT,CAAgB,IAAhB,EALb,CAKoC;;AALpC;AAAA;;AAAA;AAAA;AAAA;AAOlBP,YAAAA,KAAK,CAAC,OAAD,EAAU,+BAAV,CAAL;;AAPkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAANM,MAAM;AAAA;AAAA;AAAA,GAAZ;;;;;;ACtBP;;AAFA;AACA;AAGA;AACA,IAAME,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAlB;AACA,IAAMC,SAAS,GAAGF,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAAlB,EAEA;;AACA,IAAIF,SAAJ,EACEA,SAAS,CAACI,gBAAV,CAA2B,QAA3B,EAAqC,UAACC,CAAD,EAAO;AAC1CA,EAAAA,CAAC,CAACC,cAAF;AAEA,MAAM1B,KAAK,GAAGqB,QAAQ,CAACM,cAAT,CAAwB,OAAxB,EAAiCC,KAA/C;AACA,MAAM3B,QAAQ,GAAGoB,QAAQ,CAACM,cAAT,CAAwB,UAAxB,EAAoCC,KAArD;AACA,oBAAM5B,KAAN,EAAaC,QAAb;AACD,CAND;AAQF,IAAIsB,SAAJ,EAAeA,SAAS,CAACC,gBAAV,CAA2B,OAA3B,EAAoCN,aAApC","file":"bundle.js","sourceRoot":"","sourcesContent":["/* eslint-disable */\r\n\r\n// Login function\r\nexport const login = async (email, password) => {\r\n  try {\r\n    const res = await fetch('http://localhost:3000/api/v1/users/login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n\r\n    const data = await res.json();\r\n\r\n    if (data.status === 'success') {\r\n      alert('Logged in successfully!');\r\n      window.setTimeout(() => location.assign('/'), 1500);\r\n    } else throw data;\r\n  } catch (err) {\r\n    alert(err.message);\r\n  }\r\n};\r\n\r\nexport const logout = async () => {\r\n  try {\r\n    const res = await fetch('http://localhost:3000/api/v1/users/logout');\r\n    const data = res.json();\r\n\r\n    if (data.status === 'success') location.reload(true); // forces a reload on the server and not from the browser cache\r\n  } catch (err) {\r\n    alert('error', 'Error logging out! Try again.');\r\n  }\r\n};\r\n","/* eslint-disable */\r\n// import '@babel/polyfill';\r\nimport { login, logout } from './login';\r\n\r\n// DOM Elements\r\nconst loginForm = document.querySelector('.form');\r\nconst logOutBtn = document.querySelector('.nav__el--logout');\r\n\r\n// Submit handler\r\nif (loginForm)\r\n  loginForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n\r\n    const email = document.getElementById('email').value;\r\n    const password = document.getElementById('password').value;\r\n    login(email, password);\r\n  });\r\n\r\nif (logOutBtn) logOutBtn.addEventListener('click', logout);\r\n"]}